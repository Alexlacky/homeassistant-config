default:
  - picture_element_text_color: 'var(--picture-elements-text-color)'
  - picture_element_icon_color: 'var(--picture-elements-icon-color)'
  - cool_color: 'var(--sensibo-cool-color)'
  - heat_color: 'var(--sensibo-heat-color)'
  - fan_only_color: 'var(--sensibo-fan-only-color)'
  - auto_color: 'var(--sensibo-auto-color)'

card:
  type: vertical-stack
  cards:


############################################################################
#                                                                          #
#   Title                                                                  #
#                                                                          #
############################################################################

    - type: horizontal-stack
      cards:
      
        - type: custom:button-card
          template: shoulder_blank_card  
        
        - type: custom:decluttering-card
          template: title_button_card
          variables:
            - name: '[[title]]'
        
        - type: custom:button-card
          template: shoulder_blank_card  

          
############################################################################
#                                                                          #
#   Picture with dynamic display                                           #
#                                                                          #
############################################################################

    - type: horizontal-stack
      cards:

        - type: custom:button-card
          template: shoulder_blank_card  
        
        - type: picture-elements
          style: |
            ha-card {
              border-radius: var(--border-radius);
              overflow: hidden;
            }
          image: '[[image_off]]'
          elements:
            - type: image
              entity: climate.[[name]]
              image: '[[image_off]]'
              state_image:
                "cool": '[[image_on]]'
                "heat": '[[image_on]]'
                "heat_cool": '[[image_on]]'
                "fan_only": '[[image_on]]'
              tap_action:
                action: more-info                
              style:
                left: 50%
                top: 50%
                width: 100%
                heigth: 100%
            - type: conditional
              conditions:
                - entity: climate.[[name]]
                  state_not: 'off'
                - entity: climate.[[name]]
                  state_not: 'fan_only'
              elements:
                - type: state-label
                  entity: sensor.sensibo_[[name]]_target_temp
                  style:
                    top: 85%
                    left: 33%
                    font-size: 24px
                    color: '[[picture_element_text_color]]'
            - type: state-label
              entity: sensor.sensibo_[[name]]_temp
              style:
                top: 85%
                left: 85%
                font-size: 24px
                color: '[[picture_element_text_color]]'       
            - type: conditional
              conditions:
                - entity: climate.[[name]]
                  state: 'cool'
              elements:
                - type: icon
                  icon: mdi:snowflake
                  tap_action:
                    action: none
                  style:
                    top: 85%
                    left: 8%
                    color: '[[cool_color]]'
            - type: conditional
              conditions:
                - entity: climate.[[name]]
                  state: 'heat'
              elements:
                - type: icon
                  icon: mdi:fire
                  tap_action:
                    action: none
                  style:
                    top: 85%
                    left: 8%
                    color: '[[heat_color]]'
            - type: conditional
              conditions:
                - entity: climate.[[name]]
                  state: 'fan_only'
              elements:
                - type: icon
                  icon: mdi:fan
                  tap_action:
                    action: none
                  style:
                    top: 85%
                    left: 8%
                    color: '[[fan_only_color]]'  
            - type: conditional
              conditions:
                - entity: climate.[[name]]
                  state: 'heat_cool'
              elements:
                - type: icon
                  icon: mdi:brightness-auto
                  tap_action:
                    action: none
                  style:
                    top: 85%
                    left: 8%
                    color: '[[auto_color]]'
            - type: conditional
              conditions:
                - entity: sensor.sensibo_[[name]]_fan
                  state: 'low'
                - entity: climate.[[name]]
                  state_not: 'off'
              elements:
                - type: icon
                  icon: mdi:signal-cellular-1
                  tap_action:
                    action: none
                  style:
                    top: 85%
                    left: 17%
                    color: '[[picture_element_icon_color]]'
            - type: conditional
              conditions:
                - entity: sensor.sensibo_[[name]]_fan
                  state: 'medium'
                - entity: climate.[[name]]
                  state_not: 'off'
              elements:
                - type: icon
                  icon: mdi:signal-cellular-2
                  tap_action:
                    action: none
                  style:
                    top: 85%
                    left: 17%
                    color: '[[picture_element_icon_color]]'
            - type: conditional
              conditions:
                - entity: sensor.sensibo_[[name]]_fan
                  state: 'high'
                - entity: climate.[[name]]
                  state_not: 'off'
              elements:
                - type: icon
                  icon: mdi:signal-cellular-3
                  tap_action:
                    action: none
                  style:
                    top: 85%
                    left: 17%
                    color: '[[picture_element_icon_color]]'
            - type: conditional
              conditions:
                - entity: sensor.sensibo_[[name]]_fan
                  state: 'auto'
                - entity: climate.[[name]]
                  state_not: 'off'
              elements:
                - type: icon
                  icon: mdi:brightness-auto
                  tap_action:
                    action: none
                  style:
                    top: 85%
                    left: 17%
                    color: '[[picture_element_icon_color]]'  
              
        - type: custom:button-card
          template: shoulder_blank_card      

############################################################################
#                                                                          #
#   On/Off and Operation set                                               #
#                                                                          #
############################################################################

    - type: horizontal-stack
      cards:
      
        - type: custom:button-card
          template: shoulder_blank_card

        - type: custom:decluttering-card # Cool Operation Mode
          template: simple_button
          variables:
            - entity: switch.sensibo_[[name]]_cool
            - name: Cool
            - icon: mdi:snowflake
            - state:
                - value: "on"
                  styles:
                    card:
                      - background-color: '[[cool_color]]'

        - type: custom:decluttering-card # Heat Operation Mode
          template: simple_button
          variables:
            - entity: switch.sensibo_[[name]]_heat
            - name: Heat
            - icon: mdi:fire
            - state:
                - value: "on"
                  styles:
                    card:
                      - background-color: '[[heat_color]]'

        - type: custom:decluttering-card # Decrease Target Temperature
          template: simple_script_button
          variables:
            - entity: script.sensibo_[[name]]_decrease_target_temp
            - icon: mdi:minus

        - type: custom:decluttering-card # Increase Target Temperature
          template: simple_script_button
          variables:
            - entity: script.sensibo_[[name]]_increase_target_temp
            - icon: mdi:plus

        - type: custom:button-card
          template: shoulder_blank_card

    - !include /config/lovelace/styles/separator_card.yaml